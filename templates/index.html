<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FlaskBlog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

    <div class="position-absolute top-50 start-50 translate-middle">
        <div id="container">
            <h1>Gait Recognition</h1>
       
        </div>
        <div class="card">
            <div class="card-header">
              Clasification
            </div>
       
            <div class="card-body">
              <!-- <h5 class="card-title">Special title treatment</h5>
              <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
              <a href="#" class="btn btn-primary">Go somewhere</a> -->
              <form id="uploadForm" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label class="card-text" for="fileInput">Choose a video file:</label>
                    <input type="file" id="fileInput" multiple webkitdirectory />
                </div>
                <hr>
                <button type="button" class="btn btn-primary" onclick="uploadFiles()">Upload</button>
             </form>
             <br>
             <p id="result">___</p>
            </div>
          </div>
    </div>
  
</body>
</html>

<script>
 function uploadFiles() {

    const files = document.getElementById("fileInput").files;
    const formData = new FormData();

    for (const file of files) {
        formData.append("files[]", file); // Add each file to the form data
    }

    fetch("/", {  // route /upload di Flask
        method: "POST",
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        document.getElementById("result").innerText = data["message"];
        console.log("Success:", data["message"]);
    })
    // .then(data => {
    //                 document.getElementById("result").innerText = data["message"];
    //             })
    .catch(error => {
        console.error("Error:", error);
    });
 
    
  }
  </script>